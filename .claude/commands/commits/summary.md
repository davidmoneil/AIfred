---
name: commits:summary
description: Generate markdown summary of commits for session notes
usage: /commits:summary [--session <name>] [--output <file>]
category: workflow
created: 2026-01-06
---

# Generate Commit Summary

Generates a markdown summary of all commits made during the session, suitable for session notes or handoff documentation.

## Usage

```
/commits:summary                    # Current session, output to terminal
/commits:summary --output notes.md  # Write to file
/commits:summary --session "2026-01-06_Feature-Work"  # Specific session
```

## Output Format

```markdown
## Session Commits Summary

**Session**: Infrastructure Updates
**Date**: 2026-01-06
**Projects**: 3 | **Total Commits**: 7

### MainProject
- `abc1234` Update session state for commit tracking
- `def5678` Add cross-project commit hook

### api-service
- `ghi9012` Fix auth middleware validation @main
- `jkl3456` Add user role permissions @main
- `mno7890` Update tests for auth changes @main
- `pqr1234` Merge feature branch to main @main

### Docker
- `stu5678` Update compose with new env vars @main

---
*Generated by /commits:summary*
```

## Execution Steps

1. **Read tracking file**:
   ```bash
   cat .claude/logs/cross-project-commits.json
   ```

2. **Get current session** (if not specified):
   ```bash
   cat .claude/logs/.current-session
   ```

3. **Parse and format commits**:
   - Group by project
   - Format as markdown list
   - Include hash, message, branch

4. **Output**:
   - If `--output <file>`: Write to file
   - Otherwise: Display in terminal

## Integration

**Use Cases**:
- Session exit documentation
- Handoff notes for team members
- Git history summary for PR descriptions
- Session notes

**Related Commands**:
- `/commits:status` - Interactive view of commits
- `/commits:push-all` - Push all unpushed commits

## Quick Implementation

```bash
# Generate summary for current session
cat .claude/logs/cross-project-commits.json | jq -r '
  .sessions | to_entries | .[-1].value |
  "## Session Commits Summary\n\n**Session**: \(.sessionName)\n**Date**: \(.date)\n" +
  (.projects | to_entries | map(
    "### \(.key)\n" +
    (.value.commits | map("- `\(.shortHash)` \(.message) @\(.branch)") | join("\n"))
  ) | join("\n\n"))
'
```
