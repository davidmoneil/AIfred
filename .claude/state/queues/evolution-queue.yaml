# Evolution Queue
# Proposals from AC-05 Self-Reflection for AC-06 Self-Evolution
# Version: 1.0.0
# Updated: 2026-01-17

queue:
  # Proposals waiting for processing
  pending:
    - id: evo-2026-01-017
      source: AC-05
      created: "2026-01-17T02:00:00.000Z"
      title: "Add weather integration to startup greeting"
      description: >
        Phase A greeting could include weather context via WebSearch.
        Currently skipped. Would enhance user experience with personalized
        environmental awareness. Example: "Good morning, sir. Clear skies today."
      risk_level: low
      files_affected:
        - .claude/hooks/session-start.sh
        - .claude/scripts/startup-greeting.js (new)
      rationale: >
        Specification mentions weather as optional enhancement. Current
        implementation skips it entirely. Low-risk addition that improves
        the congenial assistant experience.
      related_problem: null
      status: pending

    - id: evo-2026-01-018
      source: AC-05
      created: "2026-01-17T02:00:00.000Z"
      title: "Add AIfred baseline sync check to startup"
      description: >
        Phase B should include automatic `git fetch` on AIfred baseline
        to detect upstream changes. Currently this check is manual.
        Would enable proactive sync notifications.
      risk_level: low
      files_affected:
        - .claude/hooks/session-start.sh
      rationale: >
        Specification Phase B includes "Baseline Synchronization" step
        but hook doesn't implement it. Adding git fetch would enable
        automatic detection of upstream AIfred changes.
      related_problem: null
      status: pending

    - id: evo-2026-01-019
      source: AC-05
      created: "2026-01-17T02:00:00.000Z"
      title: "Add environment validation to startup"
      description: >
        Phase B should verify environment health: git status (clean tree,
        correct branch), hooks registration validation, workspace boundaries.
        Currently delegated to Claude rather than automated.
      risk_level: low
      files_affected:
        - .claude/hooks/session-start.sh
      rationale: >
        Specification includes environment validation but hook doesn't
        automate these checks. Could catch issues early (wrong branch,
        uncommitted changes, disabled hooks).
      related_problem: null
      status: pending

    - id: evo-2026-01-020
      source: AC-05
      created: "2026-01-17T02:00:00.000Z"
      title: "Create startup-greeting.js helper for complex logic"
      description: >
        Specification mentions a JS helper for DateTime MCP integration,
        weather fetching, and template selection. Currently all logic
        is in shell script. Moving complex logic to JS would improve
        maintainability and enable MCP tool calls.
      risk_level: medium
      files_affected:
        - .claude/scripts/startup-greeting.js (new)
        - .claude/hooks/session-start.sh
      rationale: >
        Shell script has limitations for MCP integration. A JS helper
        could call DateTime MCP directly and handle weather API calls
        with proper error handling.
      related_problem: null
      status: pending

    - id: evo-2026-01-021
      source: AC-05
      created: "2026-01-17T23:00:00.000Z"
      title: "Integrate Claude Code v2.1.10+ features"
      description: >
        R&D research identified 7 new Claude Code features for potential
        Jarvis integration: (1) Setup hook event via --init/--maintenance
        flags for automated repository setup, (2) auto:N MCP tool search
        threshold for context budget optimization, (3) plansDirectory setting
        for centralized plan tracking, (4) PreToolUse additionalContext
        injection for hook-based context enrichment, (5) /rename and /resume
        for session naming/resumption, (6) ${CLAUDE_SESSION_ID} substitution
        for session-aware skills, (7) MCP tool search auto mode.
      risk_level: medium
      files_affected:
        - .claude/settings.json
        - .claude/hooks/session-start.sh
        - .claude/context/patterns/context-budget-management.md
      rationale: >
        Claude Code is evolving rapidly. Jarvis should track and adopt
        beneficial features to improve autonomy and context management.
        Features were documented in Memory MCP entity "Jarvis Self-Evolution".
      related_problem: null
      status: pending

  # Proposals approved by user, ready for implementation
  approved: []

  # Proposals currently being implemented
  in_progress: []

  # Completed proposals (for history)
  completed: []

  # Rejected proposals (for record)
  rejected: []

# Proposal schema:
# - id: string (unique identifier, e.g., "evo-2026-01-001")
# - source: string (AC-05, AC-07, manual)
# - created: ISO8601 timestamp
# - title: string (brief description)
# - description: string (detailed explanation)
# - risk_level: low | medium | high
# - files_affected: list of file paths
# - rationale: string (why this change)
# - related_problem: string (link to problem entry)
# - status: pending | approved | in_progress | completed | rejected
# - approved_at: ISO8601 timestamp (when approved)
# - completed_at: ISO8601 timestamp (when completed)
# - rejection_reason: string (if rejected)

# Example pending proposal:
# - id: evo-2026-01-001
#   source: AC-05
#   created: "2026-01-16T18:00:00.000Z"
#   title: "Add stdin wrapper to all JS hooks"
#   description: >
#     All JavaScript hooks need stdin/stdout JSON wrapper
#     to work with Claude Code's hook system.
#   risk_level: low
#   files_affected:
#     - .claude/hooks/*.js
#   rationale: >
#     JS hooks were not executing because they used module.exports
#     instead of stdin/stdout JSON communication.
#   related_problem: lessons/problems/2026-01-problem-hook-format.md
#   status: pending

metadata:
  last_updated: "2026-01-17T23:00:00.000Z"
  total_proposals: 5
  pending_count: 5
  completed_count: 0
