# Evolution Queue
# Proposals generated by AC-05 Self-Reflection, pending AC-06 Self-Evolution

proposals:
  - id: EVO-2026-01-020
    date: "2026-01-20"
    source: reflection
    priority: low
    status: queued
    summary: "Session State Auto-Update"
    problem: |
      Session state can drift from actual work when context compaction occurs mid-task.
      Current work shown in session-state.md may not reflect actual in-progress task.
    proposal: |
      Add hook or checkpoint logic to auto-update session-state.md current work section when:
      - TodoWrite changes in_progress task
      - Context compaction triggers
      - Checkpoint is created
    implementation:
      - Hook on TodoWrite status changes
      - Update checkpoint creation logic
      - Parse todo content to update "Current Work" section
    estimated_effort: low
    related:
      - ".claude/hooks/context-accumulator.js"
      - ".claude/context/session-state.md"
      - ".claude/skills/session-management/SKILL.md"

  - id: EVO-2026-01-021
    date: "2026-01-20"
    source: prd-v5-self-reflection
    priority: low
    status: completed
    summary: "Specific Error Messages Pattern"
    problem: |
      Generic error messages like "Invalid input" don't help users understand what went wrong.
      Should specify exactly which parameter failed and what valid values are.
    proposal: |
      Establish pattern for API error messages:
      - Always name the failing parameter
      - List valid options when enumerable
      - Include the invalid value that was received
    implementation:
      - Template: "Unknown {param}: {value}. Valid {param}s: {list}"
      - Apply to all parameter validation errors
    estimated_effort: low
    validation: PRD-V5 correction applied and tested
    related:
      - ".claude/context/lessons/self-corrections.md"
      - "PRD-V5 Correction #3"

  - id: EVO-2026-01-022
    date: "2026-01-20"
    source: prd-v5-self-reflection
    priority: low
    status: completed
    summary: "Edge Case Testing Checklist"
    problem: |
      Missing empty string test case in PRD-V5 slugify function.
      Edge cases can be systematically overlooked without a checklist.
    proposal: |
      Standard edge case checklist for string functions:
      - Empty string ('')
      - Null/undefined
      - Single character
      - Special characters only
      - Whitespace only
      - Very long strings
    implementation:
      - Add to test template
      - Reference in code-tester agent guidelines
    estimated_effort: low
    validation: PRD-V5 correction applied and tested
    related:
      - ".claude/context/lessons/self-corrections.md"
      - "PRD-V5 Correction #1"

  - id: EVO-2026-02-001
    date: "2026-02-05"
    source: reflection
    priority: low
    status: queued
    summary: "Watcher Health Check at Session Start"
    problem: |
      No visibility into watcher state at session start. Duplicate watcher bug was only
      discovered when user noticed two watchers running. Early detection would help.
    proposal: |
      Add watcher health verification to session-start hook:
      1. Check if watcher is running (pgrep)
      2. Verify single instance (count processes)
      3. Log warning if multiple or none
      4. Do NOT launch (leave that to tmux launcher)
    implementation:
      - Modify session-start.sh to add watcher_health_check() function
      - Log to session-start-diagnostic.log
      - Warning only, no action (avoids race conditions)
    estimated_effort: low
    related:
      - ".claude/hooks/session-start.sh"
      - "PAT-006: Single authority for process launch"
      - ".claude/reports/reflections/reflection-2026-02-05.md"

# Queue maintained by AC-05/AC-06 â€” Updated 2026-02-05
